# Additional Card Elements - Board Settings

## Общие блоки

### Включение показа доп элементов

**Компонент**: Checkbox
**Поведение** Состояние чекбокса (включен выключен) связано с `boardProperty.enabled`. Если чекбокс выключен - другие элементы не отображаются


### Сброс настроек

**Компонент**: Кнопка
**Поведение**: При нажатии состояние `boardProperty` сбрасывается на изначальное

### Выбор колонок

**Компонент**: Shared/ColumnsSelector
**Поведение** Включенные колонки хранятся в `boardProperty.columnsToTrack`

### Показ IssueLinks

**User Story**:
- Я хочу видеть на доске, с какой задачей связана каждая карточка. Как правило, это связь с задачей, которая представляет собой "Проект" в jira, которая заведен отдельной задачей и привязан через какой-то линк

Кейсы:
- Я хочу видеть все задачи, которые привязаны к текущей задаче по связи `is Parent of`
- Я хочу видеть все задачи с типом Project, которые привязаны к текущей задаче по связи `is Parent of`
- Я хочу видеть все задачи с типом Project в незавершенных статусах, которые привязаны к текущей задаче по связи `is Parent of`
- Я хочу видеть все незавершенные задачи с типом Project и все задачи с типом Objective и лейблом "Бизнес", которые привязаны к текущей задаче по связи `is Parent of`

**Компонент**: Кастомный
**Поведение**: При маунте инициализируется загрузка доступных связей проекта через хук `useGetIssueLinkTypes`. Пока грузится - показываем скелетон. Если связи загрузились и они не пустые - показываем компонент. Если пустые - показываем что не удалось загрузить связи проекта или их нет, поэтому невозможно настроить показ связей.
**Структура**:
- Список настроек показываемых IssueLinks. Данные связаны с `boardProperty.issueLinks`
  - Один IssueLink
    - **Компонент**: карточка
      - Название IssueLinks. 
        - **Компонент**: Input. Расположен в заголовке карточки
        - **Поведение**: Берется из `boardProperty.issueLinks[i].name`. Ограничено 20 символами.
      - **Строка 1**: Выбор типа связи и цвета
        - Выбор типа связи
          - **Компонент**: Dropdown. Расположен в карточке
          - **Поведение**: берутся все доступные связи из `useGetIssueLinkTypes` и формируется список значений для дропдауна из name.  Т.к. name - не уникальны, как ключ объекта следует использовать id линка + direction линка. Выбранное значение сохраняется в `boardProperty.issueLinks[i].linkType` - сохраняется id и direction.
        - Выбор цвета:
          - **Компонент**: Checkbox + ColorPicker
          - **Поведение**: значение связано с `boardProperty.issueLinks[i].color`. Если чекбокс выключен - colorPicker не показывается, значение поля в boardProperty прописывается как undefined. Если чекбокс включен - показан ColorPicker, его значение записывается в boardProperty.
      - **Строка 2**: Выбор сущностей, связи которых следует учитывать
        - **Компонент**: `shared/components/issueSelectorByAttributes`. Расположен в карточке на отдельной строке.
        - **Поведение**: значение связано с `boardProperty.issueLinks[i].issueSelector`, сохраняется as is. По умолчанию - пустое значение.
- Кнопка добавления нового IssueLink
  - **Компонент**: Кнопка с иконкой
  - **Поведение**: При клике добавляется новый IssueLink с базовыми параметрами: название Link + порядковый номер связи, тип связи = первый id, inward